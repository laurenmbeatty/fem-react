{"version":3,"sources":["Pet.js","actionCreators/getBreeds.js","actionCreators/changeBreed.js","actionCreators/changeAnimal.js","actionCreators/changeLocation.js","SearchBox.js","Results.js"],"names":["Pet","props","name","animal","breed","media","location","id","photos","photo","filter","hero","value","React","Component","petfinder","key","secret","getBreeds","getBreedsThunk","dispatch","getState","list","then","data","breeds","Array","isArray","type","payload","changeBreed","changeAnimal","changeLocationl","SearchBox","handleFormSubmit","event","preventDefault","search","handleLocationChange","handleAnimalChange","ANIMALS","map","handleBreedChange","length","mapStateToProps","mapDispatchToProps","target","Results","pet","find","output","pets","setState","state","join","contact","city"],"mappings":"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","file":"Results.30829819.map","sourceRoot":"../src","sourcesContent":["import React from \"react\";\nimport { Link } from \"@reach/router\";\n//Stateless functional component\nclass Pet extends React.Component {\n  render() {\n    const { name, animal, breed, media, location, id } = this.props;\n\n    let photos = [];\n\n    if (media && media.photos && media.photos.photo) {\n      photos = media.photos.photo.filter(photo => {\n        return photo[\"@size\"] === \"pn\";\n      });\n    }\n\n    const hero = photos[0] ? photos[0].value : \"http://placecorgi.com/300/300\";\n\n    return (\n      <Link to={`/details/${id}`} className=\"pet\">\n        <div className=\"image-container\">\n          <img src={hero} alt={name} />\n        </div>\n        <div className=\"info\">\n          <h1>{name}</h1>\n          <h2>\n            {animal} - {breed} - {location}\n          </h2>\n        </div>\n      </Link>\n    );\n  }\n}\n\nexport default Pet;\n","import pf from \"petfinder-client\";\n\nconst petfinder = pf({\n  key: process.env.API_KEY,\n  secret: process.env.API_SECRET\n});\n\nexport default function getBreeds() {\n  //needs to return a \"thunk\" --- a function, really\n  return function getBreedsThunk(dispatch, getState) {\n    const { animal } = getState();\n    if (animal) {\n      petfinder.breed.list({ animal: animal }).then(data => {\n        if (\n          data.petfinder &&\n          data.petfinder.breeds &&\n          Array.isArray(data.petfinder.breeds.breed)\n        ) {\n          dispatch({\n            type: \"SET_BREEDS\",\n            payload: data.petfinder.breeds.breed\n          });\n        } else {\n          dispatch({ type: \"SET_BREEDS\", payload: [] });\n        }\n      });\n    } else {\n      dispatch({ type: \"SET_BREEDS\", payload: [] });\n    }\n  };\n}\n","export default function changeBreed(breed) {\n  return { type: \"SET_BREED\", payload: breed };\n}\n","export default function changeAnimal(animal) {\n  return { type: \"SET_ANIMAL\", payload: animal };\n}\n","export default function changeLocationl(location) {\n  return { type: \"SET_LOCATION\", payload: location };\n}\n","import React from \"react\";\nimport { ANIMALS } from \"petfinder-client\";\nimport { connect } from \"react-redux\";\nimport getBreeds from \"./actionCreators/getBreeds\";\nimport changeBreed from \"./actionCreators/changeBreed\";\nimport changeAnimal from \"./actionCreators/changeAnimal\";\nimport changeLocation from \"./actionCreators/changeLocation\";\n\nclass SearchBox extends React.Component {\n  handleFormSubmit = event => {\n    event.preventDefault();\n    this.props.search();\n  };\n  render() {\n    return (\n      <div className=\"search-params\">\n        <form onSubmit={this.handleFormSubmit}>\n          <label htmlFor=\"location\">\n            Location\n            <input\n              onChange={this.props.handleLocationChange}\n              id=\"location\"\n              value={this.props.location}\n              placeholder=\"Location\"\n            />\n          </label>\n          <label htmlFor=\"animal\">\n            Animal\n            <select\n              id=\"animal\"\n              value={this.props.animal}\n              onChange={this.props.handleAnimalChange}\n              onBlur={this.props.handleAnimalChange}\n            >\n              <option />\n              {ANIMALS.map(animal => {\n                return (\n                  <option key={animal} value={animal}>\n                    {animal}\n                  </option>\n                );\n              })}\n            </select>\n          </label>\n          <label htmlFor=\"breed\">\n            Breed\n            <select\n              id=\"breed\"\n              value={this.props.breed}\n              onChange={this.props.handleBreedChange}\n              onBlur={this.props.handleBreedChange}\n              disabled={!this.props.breeds.length}\n            >\n              <option />\n              {this.props.breeds.map(breed => {\n                return (\n                  <option key={breed} value={breed}>\n                    {breed}\n                  </option>\n                );\n              })}\n            </select>\n            <button>Submit</button>\n          </label>\n        </form>\n      </div>\n    );\n  }\n}\n//from redux store\nconst mapStateToProps = ({ breed, breeds, animal, location }) => ({\n  breed,\n  breeds,\n  animal,\n  location\n});\n\n//from actions\nconst mapDispatchToProps = dispatch => ({\n  handleAnimalChange(event) {\n    //dispatch gives an action to redux\n    dispatch(changeAnimal(event.target.value));\n    dispatch(getBreeds());\n  },\n  handleBreedChange(event) {\n    dispatch(changeBreed(event.target.value));\n  },\n  handleLocationChange(event) {\n    dispatch(changeLocation(event.target.value));\n  }\n});\nexport default connect(\n  mapStateToProps,\n  mapDispatchToProps\n)(SearchBox);\n","import React from \"react\";\nimport pf from \"petfinder-client\";\nimport Pet from \"./Pet\";\nimport SearchBox from \"./SearchBox\";\n\nconst petfinder = pf({\n  key: process.env.API_KEY,\n  secret: process.env.API_SECRET\n});\n\nclass Results extends React.Component {\n  //gets called once per component\n  //props immutable, state is changeable\n  //state stays at the same level\n  //state = things that can change\n  constructor(props) {\n    super(props);\n    this.state = {\n      pets: []\n    };\n  }\n  componentDidMount() {\n    this.search();\n  }\n  search = () => {\n    petfinder.pet\n      .find({\n        output: \"full\",\n        location: this.props.location,\n        animal: this.props.animal,\n        breed: this.props.breed\n      })\n      .then(data => {\n        let pets;\n        if (data.petfinder.pets && data.petfinder.pets.pet) {\n          if (Array.isArray(data.petfinder.pets.pet)) {\n            pets = data.petfinder.pets.pet;\n          } else {\n            pets = [data.petfinder.pets.pet];\n          }\n        } else {\n          pets = [];\n        }\n\n        this.setState({ pets }); //could be pets: pets\n      });\n  };\n  render() {\n    return (\n      <div className=\"search\">\n        <SearchBox search={this.search} />\n        {this.state.pets.map(pet => {\n          let breed;\n          if (Array.isArray(pet.breeds.breed)) {\n            breed = pet.breeds.breed.join(\", \");\n          } else {\n            breed = pet.breeds.breed;\n          }\n          return (\n            <Pet\n              key={pet.id}\n              animal={pet.animal}\n              name={pet.name}\n              breed={breed}\n              media={pet.media}\n              location={`${pet.contact.city}, ${pet.contact.state}`}\n              id={pet.id}\n            />\n          );\n        })}\n      </div>\n    );\n  }\n}\n\nexport default Results;\n"]}